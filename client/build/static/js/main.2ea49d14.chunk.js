(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{22:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(16),s=n.n(c),o=(n(22),n(9)),l=n(2),a=n(1);function i(){return Object(a.jsx)("div",{className:"bg-blue-800",children:Object(a.jsxs)("nav",{className:"content flex h-20 items-center px-5 text-white gap-x-10 mb-8",children:[Object(a.jsx)("h1",{className:"text-xl font-semibold",children:"Google Books"}),Object(a.jsxs)("div",{className:"flex gap-x-6 text-lg",children:[Object(a.jsx)(o.b,{to:"/",children:"Search"}),Object(a.jsx)(o.b,{to:"/saved",children:"Saved"})]})]})})}var r=n(10),j=n(0);function b(e){return fetch("/api/books",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}function d(){return fetch("/api/books").then((e=>e.json()))}function x({book:e,buttonLabel:t,buttonAction:n}){const c=e.title,s=e.authors,o=e.description,l=e.image,i=e.link;return Object(a.jsxs)("div",{className:"content rounded-md bg-white shadow-md p-5 flex flex-col w-full",children:[Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsx)("a",{href:i,className:"text-lg font-semibold hover:underline",children:c}),Object(a.jsx)("button",{className:"bg-blue-800 text-white py-1 px-3 rounded",onClick:()=>{n(e)},children:t})]}),s?Object(a.jsxs)("div",{className:"text-gray-600",children:["Written by ",s.join(", ")]}):null,Object(a.jsxs)("div",{className:"flex pt-5 gap-5",children:[Object(a.jsx)("img",{src:l,className:"self-start rounded-md"}),Object(a.jsx)("div",{children:o})]})]})}function u(){const e=Object(j.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(j.useEffect)((()=>{d().then((e=>c(e)))}),[]),Object(a.jsx)("div",{className:"flex flex-col gap-5",children:Object(a.jsx)("div",{className:"flex flex-col gap-5",children:n?n.map(((e,t)=>Object(a.jsx)(x,{book:e,buttonLabel:"Delete",buttonAction:({_id:e})=>{var t;(t=e,fetch("/api/books/".concat(t),{method:"DELETE"})).then((()=>{d().then((e=>c(e)))}))}},t))):null})})}function h(){const e=Object(j.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(j.useState)(null),o=Object(r.a)(s,2),l=o[0],i=o[1];return Object(a.jsxs)("div",{className:"flex flex-col gap-5",children:[Object(a.jsxs)("form",{className:"content flex gap-3 justify-center",onSubmit:e=>{e.preventDefault(),function(e){const t="https://www.googleapis.com/books/v1/volumes?key=".concat("AIzaSyBnVNXBoGCfFUMwWg9H3Q7dvK1hL-4joVw","&q=").concat(e);return fetch(t).then((e=>e.json())).then((e=>e.items.map((e=>{var t;return{title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,link:e.volumeInfo.infoLink,image:null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.thumbnail}}))))}(n).then((e=>{i(e)}))},children:[Object(a.jsx)("input",{type:"text",value:n,onChange:e=>c(e.target.value),className:"w-60 rounded px-3"}),Object(a.jsx)("button",{type:"submit",className:"bg-blue-800 text-white py-2 px-6 rounded",children:"Search"})]}),Object(a.jsx)("div",{className:"flex flex-col gap-5",children:l?l.map(((e,t)=>Object(a.jsx)(x,{book:e,buttonLabel:"Save",buttonAction:b},t))):null})]})}function f(){return Object(a.jsxs)("div",{className:"content text-center flex flex-col justify-center gap-y-6 h-48 text-gray-700",children:[Object(a.jsx)("h2",{className:"text-5xl font-semibold",children:"(React) Google Books Search"}),Object(a.jsx)("div",{className:"text-2xl",children:"Search for and Save Books of Interest"})]})}var m=function(){return Object(a.jsxs)(o.a,{children:[Object(a.jsx)(i,{}),Object(a.jsx)(f,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/saved",children:Object(a.jsx)(u,{})}),Object(a.jsx)(l.a,{path:"/",children:Object(a.jsx)(h,{})})]})]})};s.a.render(Object(a.jsx)(m,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.2ea49d14.chunk.js.map